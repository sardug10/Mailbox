(this.webpackJsonpmailbox=this.webpackJsonpmailbox||[]).push([[0],{104:function(e,a,t){"use strict";t.r(a);var c=t(0),n=t.n(c),s=t(22),i=t.n(s),r=(t(76),t(4)),l=(t(77),t(32)),o=t(21),j=t(37),d=t.n(j),b=t(38),u=t.n(b),h=t(56),m=t.n(h),O=t(125),f=t(2),x=function(e){var a=e.data,t=a.userId,c=a.tag,n=a.subject,s=a.body,i=Object(r.g)();return Object(f.jsxs)("div",{className:"emailDetail",children:[Object(f.jsxs)("div",{className:"emailDetail__top",children:[Object(f.jsx)(O.a,{onClick:function(){return i.push("/".concat(c))},children:Object(f.jsx)(m.a,{})}),Object(f.jsx)("span",{className:"emailDetail__subject",children:n}),Object(f.jsx)(d.a,{}),c]}),Object(f.jsxs)("div",{className:"emailDetail__middle",children:[Object(f.jsx)(u.a,{}),Object(f.jsxs)("span",{className:"emailDetail__sender",children:["User ",t,", to me"]})]}),Object(f.jsx)("p",{className:"emailDetail__bottom",children:s})]})},v=function(e){var a=e.email,t=e.handleOnClick;return Object(f.jsxs)("div",{className:"emailList",onClick:function(){return t(a.id)},children:[Object(f.jsxs)("span",{className:"emailList__user",children:["User ",a.userId]}),Object(f.jsxs)("h3",{className:"emailList__tag",children:[Object(f.jsx)(d.a,{fontSize:"small",style:{marginRight:5}}),a.tag]}),Object(f.jsxs)("div",{className:"emailList__message",children:[Object(f.jsxs)("span",{className:"emailList__subject",children:[a.subject," - "]}),Object(f.jsx)("span",{className:"emailList__body",children:a.body})]})]})},_=function(e){var a=e.data,t=Object(r.g)(),n=Object(r.h)(),s=Object(c.useState)(null),i=Object(o.a)(s,2),l=i[0],j=i[1],d=Object(c.useState)(null),b=Object(o.a)(d,2),u=b[0],h=b[1],m=n.id;Object(c.useEffect)((function(){var e=n.tag;if("all"===e)j(a);else{var t=[];a.forEach((function(a){a.tag===e&&t.push(a)})),j(t)}}),[a,n]),Object(c.useEffect)((function(){var e=n.id,a=l&&l.find((function(a){return a.id===1*e}));h(a)}),[n,u,l]);var O=function(e){var c=a.find((function(a){return a.id===e}));h(c),t.push("/".concat(n.tag,"/mail/").concat(e))};return m&&u?Object(f.jsx)(x,{data:u}):Object(f.jsx)("div",{className:"emailList__div",children:l&&l.map((function(e){return Object(f.jsx)(v,{email:e,handleOnClick:O},e.id)}))})},p=t(17),g=function(e){var a=e.email,t=e.handleOnClick;return Object(f.jsxs)(p.b,{className:"header__link",to:"/".concat(a.tag,"/mail/").concat(a.id),onClick:t,children:[Object(f.jsx)("p",{className:"header__subject",children:a.subject}),Object(f.jsx)("p",{className:"header__body",children:a.body})]})},N=t(57),y=t.n(N),k=t(58),E=t.n(k),S=t(59),L=t.n(S),w=function(e){var a=e.emails,t=Object(r.h)(),n=Object(c.useState)(""),s=Object(o.a)(n,2),i=s[0],l=s[1],j=Object(c.useState)(null),d=Object(o.a)(j,2),b=d[0],h=d[1],m=Object(c.useState)(null),x=Object(o.a)(m,2),v=x[0],_=x[1];Object(c.useEffect)((function(){window.addEventListener("click",(function(e){JSON.stringify(e.target.className).includes("header")||l("")}))})),Object(c.useEffect)((function(){var e=t.tag;if("all"===e)h(a);else{var c=[];a.forEach((function(a){a.tag===e&&c.push(a)})),h(c)}}),[a,t,i]);var p=function(e){var a=e.target.value;l(a);var t,c=(t=a,b.filter((function(e){return Object.keys(e).some((function(a){return e[a].toString().toLowerCase().includes(t.toLowerCase())}))})));_(c),console.log(c)},N=function(){l("")};return Object(f.jsxs)("div",{className:"header",children:[Object(f.jsxs)("div",{className:"header__left",children:[Object(f.jsx)(O.a,{children:Object(f.jsx)(y.a,{className:"header__icons"})}),Object(f.jsx)(E.a,{className:"header__icons header__icons--mail"}),Object(f.jsx)("span",{className:"header__text",children:"Mailbox"})]}),Object(f.jsxs)("div",{className:"header__middle",children:[Object(f.jsx)(O.a,{children:Object(f.jsx)(L.a,{className:"header__icons"})}),Object(f.jsxs)("div",{className:"header__middle--secondary",children:[Object(f.jsx)("input",{type:"text",className:"header__input",value:i,placeholder:"Search Email",onChange:function(e){return p(e)}}),Object(f.jsx)("div",{className:"header__suggestions ".concat(""===i&&"header__suggestions--hide"),children:v&&v.length>0?v&&v.map((function(e){return Object(f.jsx)(g,{email:e,handleOnClick:N},e.id)})):Object(f.jsx)("p",{className:"header__message",children:"No Matching results"})})]})]}),Object(f.jsx)("div",{className:"header__right",children:Object(f.jsx)(u.a,{className:"header__icons header__icons--avatar"})})]})},C=function(e){var a=e.Icon,t=e.title,c=e.active,n=e.path,s=e.handleOnClick;return Object(f.jsx)(p.b,{to:"/".concat(n),className:"sidebar__link",children:Object(f.jsxs)("div",{className:"sidebar__tags ".concat(c&&"sidebar__tags--active"),onClick:function(){return s(t)},children:[Object(f.jsx)(a,{}),Object(f.jsx)("h3",{className:"sidebar__text",children:t})]})})},I=t(60),D=t.n(I),M=t(61),T=t.n(M),A=t(62),U=t.n(A),J=t(63),R=t.n(J),W=t(64),B=t.n(W),z=function(e){var a=e.match,t=(e.emails,[{name:"Inbox",icon:D.a,active:!0,path:"inbox"},{name:"Drafts",icon:T.a,active:!1,path:"draft"},{name:"Spam",icon:U.a,active:!1,path:"spam"},{name:"Trash",icon:R.a,active:!1,path:"trash"},{name:"All Mail",icon:B.a,active:!1,path:"all"}]),n=Object(c.useState)(t),s=Object(o.a)(n,2),i=s[0],r=s[1];Object(c.useEffect)((function(){var e=[].concat(t),c=a&&a.params.tag;e.forEach((function(e){e.active=e.path===c})),r(e)}),[a]);var l=function(e){var a=[].concat(t);a.forEach((function(a){a.active=a.name===e})),r(a)};return Object(f.jsx)("div",{className:"sidebar",children:i.map((function(e){return Object(f.jsx)(C,{Icon:e.icon,title:e.name,active:e.active,path:e.path,handleOnClick:l},e.name)}))})},F=t(42),G=t.n(F),Q=t(65),$=t(66),q=t.n($),H="EMAIL_LIST_REQUEST",K="EMAIL_LIST_SUCCESS",P="EMAIL_LIST_FAIL",V=t(123),X=t(124),Y=function(e){e.history;var a=e.match,t=Object(l.b)(),n=Object(l.c)((function(e){return e.emailList})),s=n.loading,i=n.emails,r=n.error;return Object(c.useEffect)((function(){t(function(){var e=Object(Q.a)(G.a.mark((function e(a){var t,c;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:H}),e.next=4,q()({method:"GET",url:"https://run.mocky.io/v3/58770279-0738-4578-a1cf-c56a193fce98"});case 4:t=e.sent,c=t.data,a({type:K,payload:c}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a({type:P,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a){return e.apply(this,arguments)}}())}),[t]),Object(f.jsxs)("div",{children:[Object(f.jsx)(w,{emails:i}),Object(f.jsxs)("div",{className:"main",children:[Object(f.jsx)(z,{match:a,emails:i}),s&&Object(f.jsx)(V.a,{className:"loader"}),r&&Object(f.jsxs)(X.a,{severity:"error",children:["Error: ",r]}),Object(f.jsx)(_,{match:a,data:i})]})]})};var Z=function(){return Object(f.jsx)("div",{className:"app",children:Object(f.jsxs)(r.d,{children:[Object(f.jsx)(r.b,{path:"/:tag/mail/:id",component:Y}),Object(f.jsx)(r.b,{path:"/:tag",component:Y}),Object(f.jsx)(r.a,{exact:!0,from:"/",to:"/inbox"})]})})},ee=t(67),ae=t(33),te=t(68),ce=Object(ae.combineReducers)({emailList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emails:[]},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case H:return{loading:!0,emails:[]};case K:return{loading:!1,emails:a.payload};case P:return{loading:!1,error:a.payload};default:return e}}}),ne=[ee.a],se=Object(ae.createStore)(ce,Object(te.composeWithDevTools)(ae.applyMiddleware.apply(void 0,ne)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(p.a,{children:Object(f.jsx)(l.a,{store:se,children:Object(f.jsx)(Z,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},76:function(e,a,t){},77:function(e,a,t){}},[[104,1,2]]]);
//# sourceMappingURL=main.6f3c3c33.chunk.js.map